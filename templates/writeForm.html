<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Gaegu&display=swap" rel="stylesheet">
    <!--부트스트랩-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!--Jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

    <title>Test</title>

    <style>
        *{
            font-family: 'Gaegu', cursive;
        }
        a{
            text-decoration: none;
            color: inherit;
        }
        a:hover{
            color: blue;
        }


		section {
		min-width: 800px;
		max-width: 1400px;
		margin: 10px auto;
		padding: 20px;
		box-sizing: border-box;
		}
		table {
		border-collapse: collapse;
		width: 100%;
		}

		form[method="POST"] table > tbody > tr {
			border: 0;
		}
		form[method="POST"] table > tbody > tr > th {
			text-align: left;
		}
		form[method="POST"] input[type="text"] {
			all: unset;
			padding: 10px;
			font-size: 18px;
			border: 0;
			width: 50%;
			border-bottom: 2px solid black;
		}
		form[method="POST"] textarea {
			min-height: 500px;
			width: 100%;
			resize: none;
			box-sizing: border-box;
			padding: 20px;
			font-family: '나눔고딕';
			font-size: 17px;
			margin: 20px auto;
		}

		.wirteBtn {
			box-sizing: border-box;
			margin: 20px auto;
			display: flex;
			width: 100%;
			justify-content: space-between;
		}

		input[type="button"],
		button {
			background-color: lightgrey;
			color: black;
			font-size: 17px;
			border: 0;
			border-radius: 20px;
			width: 120px;
			height: 40px;
			font-weight: bold;
			transition-duration: 0.5s;
			cursor: pointer;
		}

		input[type="button"]:hover,
		button:hover {
			background-color: black;
			transition-duration: 0.5s;
			color: white;
		}


    </style>

    <script>



        function insert_content(){
            let name = $('#writer').val()
            let title = $('#title').val()
            let content = $('#content').val()

            $.ajax({
                type: 'POST',
                url: '/write',
                data:{ name_give:name, title_give:title, content_give:content},
                success: function (response){
					console.log(response['msg'])
                    alert(response['msg'])
                    window.location.href="/"

                }

            });

        }

    </script>

</head>
<body>
<section>
	<form method="POST">
		<table>
			<tr>
				<th><input type="text"
						   id="writer"
						   placeholder="작성자"
						   required></th>
			</tr>
			<tr>
				<th><input type="text"
						   id="title"
						   placeholder="제목"
						   required></th>
			</tr>
			<tr>
				<td>
				<textarea id="content"
						  placeholder="내용을 입력해주세요!"
						  required></textarea>
				</td>
			</tr>
		</table>

		<div class="wirteBtn">
			<div>

				<a href="javascript:history.back()">
					<input type="button" value="작성취소">
				</a>

			</div>
			<div>
				<button onclick="insert_content()">작성완료</button>
			</div>
		</div>

	</form>
</section>




</body>
</html>